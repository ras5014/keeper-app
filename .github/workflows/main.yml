name: My First GitHub Action
on: [push] # It ll run on when we push to git
jobs: # Jobs may not run sequencially
  build-app:
    runs-on: ubuntu-latest
    steps: # Step ll run sequentially
      - uses: actions/checkout@v2 # This clones the repo to the GitHub Runner
      - uses: actions/setup-node@v2 # Setup node
        # with:
        #   node-version: '14.17.0'
      - name: Install node_modules
        run: yarn
      - name: Build the Project
        run: yarn build
      - name: Sets the vercel env
        run: |
          cd build
          mkdir .vercel
          touch project.json
          echo '{"projectId": "prj_FNHwAR4NxV8bHcNc1qrDjtcSqkk7",
          "orgId": "j4RgRgNn9kctl8epQ92dcBW8"}' > project.json
      - name: Deploying the project
        run: yarn deploy
      - name: Setup Finish
        run: echo "Hurray!"
  
